<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ç»™å®å®çš„ 1000 æ¡å¿ƒé‡Œè¯</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            /* æ›´æ¢¦å¹»çš„æ¸å˜èƒŒæ™¯ */
            background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%);
            background-attachment: fixed;
            font-family: 'Helvetica Neue', Arial, 'PingFang SC', sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            overflow-x: hidden;
            padding: 15px;
            overscroll-behavior-y: none;
            -webkit-tap-highlight-color: transparent; /* å»é™¤æ‰‹æœºç‚¹å‡»çš„é«˜äº® */
        }

        .header {
            text-align: center;
            margin: 40px 0 20px 0;
            color: #fff;
            text-shadow: 0 2px 10px rgba(0,0,0,0.2);
            animation: fadeInDown 1.5s ease;
            z-index: 10;
        }

        .header h1 {
            font-size: 26px;
            font-weight: bold;
            margin-bottom: 10px;
            letter-spacing: 2px;
        }

        .header p {
            font-size: 14px;
            opacity: 0.95;
            line-height: 1.6;
        }

        .stats {
            background: rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            padding: 8px 24px;
            border-radius: 30px;
            color: #fff;
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 25px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            position: sticky;
            top: 15px;
            z-index: 100;
            transition: all 0.3s;
        }

        .message-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            width: 100%;
            max-width: 600px;
            padding-bottom: 40px;
            z-index: 10;
        }

        /* æ°”æ³¡æ ·å¼å‡çº§ */
        .msg-card {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.8);
            padding: 18px;
            border-radius: 20px;
            color: #4a4a4a;
            font-size: 15px;
            line-height: 1.6;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.08);
            transform: translateY(30px) scale(0.95);
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            width: 100%;
            word-wrap: break-word;
            position: relative;
            overflow: hidden;
        }

        /* ä¸åŒçš„æ¶ˆæ¯é£æ ¼ */
        .msg-card.style-emoji { font-size: 28px; text-align: center; background: rgba(255,255,255,0.4); }
        .msg-card.style-sweet { color: #d81b60; font-weight: bold; }
        .msg-card.style-sorry { border-left: 4px solid #ff758c; }

        .msg-card.show {
            transform: translateY(0) scale(1);
            opacity: 1;
        }

        .msg-card.finale {
            background: linear-gradient(135deg, #ff758c 0%, #ff7eb3 100%);
            color: white;
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            padding: 40px 20px;
            border-radius: 24px;
            box-shadow: 0 10px 40px rgba(255, 117, 140, 0.5);
            margin-top: 30px;
            border: none;
            animation: pulse 2s infinite;
        }

        .msg-num {
            opacity: 0.5;
            font-size: 12px;
            display: block;
            margin-bottom: 6px;
            font-family: monospace;
            color: #888;
        }

        .finale .msg-num { color: rgba(255,255,255,0.8); }

        .loading-trigger {
            height: 60px;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff;
            font-size: 14px;
            opacity: 0.8;
            padding-bottom: 20px;
        }

        /* æ¼‚æµ®ç²’å­ç‰¹æ•ˆï¼ˆå¿ƒå¿ƒ/æ˜Ÿæ˜Ÿï¼‰ */
        .particle {
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            animation: floatUp ease-out forwards;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) scale(0.5) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-150px) scale(1.5) rotate(360deg); opacity: 0; }
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>

    <div class="header">
        <h1>ä¸“å±è‡´æ­‰ä¿¡ & 1000æ¬¡æƒ³ä½ </h1>
        <p>æ—…è¡Œè·¯ä¸Šè®©ä½ å—å§”å±ˆäº†<br>è¿™æ˜¯å±äºä½ çš„ 1000 ä»½åçˆ±</p>
    </div>

    <div class="stats" id="counter">å‘ä¸Šæ»‘åŠ¨ï¼ŒæŸ¥æ”¶å¿ƒæ„... 0/1000</div>

    <div class="message-container" id="container">
        </div>

    <div class="loading-trigger" id="loading">âœ¨ ç»§ç»­ä¸Šæ»‘ï¼Œè¿˜æœ‰å¥½å¤šè¯æƒ³å¯¹ä½ è¯´...</div>

    <script>
        // æåº¦ä¸°å¯Œçš„è¯­æ–™åº“ï¼Œåˆ†ä¸ºä¸åŒç±»å‹
        const corpus = [
            { text: "å®å®å¯¹ä¸èµ·ï¼Œé‚£å¤©è·¯ä¸Šæˆ‘å¤ªç¬¨äº†ğŸ˜”", type: "style-sorry" },
            { text: "æˆ‘ä¸è¯¥è®©ä½ ä¸€ä¸ªäººæ¶ˆåŒ–é‚£äº›çƒ¦å¿ƒäº‹çš„ï¼Œä»¥åç»å¯¹ä¸ä¼šäº†ï¼", type: "style-sorry" },
            { text: "ç»™ä½ å˜ä¸ªé­”æœ¯ï¼Œå‘¼â€”â€”åå¿ƒæƒ…å…¨éƒ¨é£èµ°å•¦ï¼âœ¨", type: "style-sweet" },
            { text: "ğŸ¥ºğŸ¥ºğŸ¥º (çœ¼å·´å·´çœ‹ç€ä½ æ±‚åŸè°…)", type: "style-emoji" },
            { text: "è¿™å‡ å¤©æ»¡è„‘å­éƒ½æ˜¯æ€ä¹ˆæŠŠä½ å“„å›æ¥ï¼Œè¿æ•²ä»£ç éƒ½åœ¨æŠ¥é”™æç¤ºæƒ³ä½ ã€‚", type: "" },
            { text: "å°±ç®—ä½ ç”Ÿæ°”å˜Ÿå˜´çš„æ—¶å€™ï¼Œæˆ‘ä¹Ÿè§‰å¾—ä½ å…¨å®‡å®™æœ€å¯çˆ±ï¼ˆå°å£°è¯´ï¼‰ã€‚", type: "style-sweet" },
            { text: "ä»¥åæˆ‘ä¸åšé—·è‘«èŠ¦äº†ï¼Œåšä½ çš„ä¸“å±æ²™è¢‹ï¼Œéšä¾¿æéšä¾¿é”¤ï¼", type: "" },
            { text: "ç­‰ä¸‹ä¸ªå‘¨æœ«ï¼Œæƒ³å¸¦ä½ å»åƒé¡¿è¶…æ£’çš„å¤§é¤è¡¥å¿ä½ ï¼", type: "" },
            { text: "ğŸ§‹ğŸ°ğŸ© æŠ•å–‚æˆ‘çš„å°çŒªçŒªï¼", type: "style-emoji" },
            { text: "æˆ‘çš„å…¨ä¸–ç•Œæœ€æœ€æœ€æ¼‚äº®çš„å¥³æœ‹å‹å¤§äºº~", type: "style-sweet" },
            { text: "æˆ‘é”™äº†æˆ‘é”™äº†æˆ‘é”™äº† (æ­£åœ¨ç–¯ç‹‚è·ªé”®ç›˜/ä¸»æ¿/æ¦´è²ä¸­...)", type: "style-sorry" },
            { text: "ğŸ¶ æ±ªæ±ªæ±ªï¼Œåˆ«ç”Ÿå°ç‹—çš„æ°”äº†å¥½ä¸å¥½å˜›", type: "" },
            { text: "æƒ³ä½ å•¦ï¼Œæƒ³è§ä½ ï¼Œæƒ³ç´§ç´§æŠ±ä½ä½ ï¼Œä¸æ’’æ‰‹çš„é‚£ç§ã€‚", type: "style-sweet" },
            { text: "é‚£å¤©è¡Œæå¤ªé‡ï¼Œæˆ‘åº”è¯¥ç¬¬ä¸€æ—¶é—´æŠ¢è¿‡æ¥å¸®ä½ æçš„ï¼Œæ€ªæˆ‘ååº”æ…¢ï¼", type: "style-sorry" },
            { text: "æ‰¾é”™è·¯çš„æ—¶å€™æˆ‘ä¸è¯¥ä¸è¯´è¯çš„ï¼Œåº”è¯¥é©¬ä¸Šç‰µèµ·ä½ çš„æ‰‹å¸¦ä½ èµ°ã€‚", type: "style-sorry" },
            { text: "ä¿è¯ä»¥åå‡ºå»ç©ï¼Œæˆ‘ä¸€å®šæŠŠæ”»ç•¥åšåˆ°å®Œç¾ï¼Œåšä½ çš„VIPä¸“å±é‡‘ç‰Œå¯¼æ¸¸ï¼", type: "style-sweet" },
            { text: "â¤ï¸ğŸ§¡ğŸ’›ğŸ’šğŸ’™ğŸ’œ", type: "style-emoji" },
            { text: "ä¸ç®¡å‘ç”Ÿä»€ä¹ˆï¼Œä½ åœ¨æˆ‘å¿ƒé‡Œæ°¸è¿œæ˜¯ç¬¬ä¸€é¡ºä½ã€‚", type: "style-sweet" },
            { text: "å¥½æƒ³æ‰æ‰ä½ çš„è„‘è¢‹å•Š~", type: "" },
            { text: "ä¸ç”Ÿæ°”å•¦å¥½ä¸å¥½ï¼Ÿå†çš±çœ‰å¤´å°±ä¸æ¼‚äº®äº†å–”ã€‚", type: "" }
        ];

        const container = document.getElementById('container');
        const counter = document.getElementById('counter');
        const loading = document.getElementById('loading');
        
        let currentCount = 0;
        const totalMessages = 1000;
        const batchSize = 15; // æ¯æ¬¡ä¸Šæ»‘åŠ è½½çš„æ¡æ•°
        let isGenerating = false; // é˜²æ­¢é‡å¤åŠ è½½çš„é”

        // éšæœºè·å–ä¸€æ¡æ¶ˆæ¯
        function getRandomMsg() {
            return corpus[Math.floor(Math.random() * corpus.length)];
        }

        // æ ¸å¿ƒï¼šç”Ÿæˆä¸€æ‰¹æ¶ˆæ¯çš„å‡½æ•°
        function renderBatch() {
            if (isGenerating || currentCount >= totalMessages) return;
            isGenerating = true;

            let end = Math.min(currentCount + batchSize, totalMessages);
            let fragment = document.createDocumentFragment();
            let newCards = [];
            
            for (let i = currentCount; i < end; i++) {
                const card = document.createElement('div');
                card.className = 'msg-card';
                
                if (i === totalMessages - 1) {
                    // ç¬¬ 1000 æ¡ç»ˆæå‘Šç™½
                    card.classList.add('finale');
                    card.innerHTML = `<span class="msg-num">Message No.1000</span>
                        ğŸ’Œ ç»ˆäºæ¥åˆ°ç¬¬ 1000 æ¡ ğŸ’Œ<br><br>
                        æ„Ÿè°¢ä½ è€å¿ƒåœ°æ»‘åˆ°äº†è¿™é‡Œã€‚<br>
                        å‰é¢æœ‰é‡å¤çš„ç¢ç¢å¿µï¼Œä½†è¿™ä¸€å¥ç»å¯¹å”¯ä¸€ï¼š<br><br>
                        å¯¹ä¸èµ·ï¼Œæˆ‘çˆ±ä½ ã€‚<br>
                        æœªæ¥çš„è·¯ï¼Œè¯·å…è®¸æˆ‘ç»§ç»­ç‰µç€ä½ èµ°ã€‚â¤ï¸`;
                } else {
                    const msgObj = getRandomMsg();
                    if(msgObj.type) card.classList.add(msgObj.type); // æ·»åŠ ç‰¹æ®Šæ ·å¼
                    card.innerHTML = `<span class="msg-num">Message No.${i + 1}</span>${msgObj.text}`;
                }

                fragment.appendChild(card);
                newCards.push(card);
            }

            container.appendChild(fragment);
            currentCount = end;

            // ä¾æ¬¡è§¦å‘å…¥åœºåŠ¨ç”»
            newCards.forEach((card, index) => {
                setTimeout(() => {
                    card.classList.add('show');
                    counter.innerText = `å·²é€è¾¾: ${currentCount} / 1000`;
                }, index * 100); 
            });

            // å»¶æ—¶è§£é™¤é”ï¼Œè®©åŠ¨ç”»æ’­å®Œ
            setTimeout(() => {
                isGenerating = false;
                if (currentCount >= totalMessages) {
                    loading.innerText = "âœ¨ 1000ä»½å¿ƒæ„å·²å…¨éƒ¨é€è¾¾ï¼Œå¿«å»æŠ±æŠ±ä»–å§ âœ¨";
                }
            }, newCards.length * 100 + 100);
        }

        // ç›‘å¬æ»šåŠ¨äº‹ä»¶ï¼Œå®ç°è§¦åº•åŠ è½½ (ç€‘å¸ƒæµ)
        window.addEventListener('scroll', () => {
            const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight;
            const clientHeight = document.documentElement.clientHeight || window.innerHeight;

            // å½“è·ç¦»åº•éƒ¨ä¸åˆ° 200px æ—¶ï¼Œè§¦å‘åŠ è½½ä¸‹ä¸€æ‰¹
            if (scrollTop + clientHeight >= scrollHeight - 200) {
                renderBatch();
            }
        });

        // ================= ç‰¹æ•ˆéƒ¨åˆ† =================
        const emojis = ['â¤ï¸', 'ğŸ’–', 'âœ¨', 'ğŸŒ¸', 'ğŸ˜˜', 'ğŸ’•'];

        // ç”Ÿæˆå•ä¸ªé£˜è½ç²’å­çš„å‡½æ•°
        function createParticle(x, y) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.innerText = emojis[Math.floor(Math.random() * emojis.length)];
            
            // éšæœºå¤§å°å’Œé£˜åŠ¨æŒç»­æ—¶é—´
            const size = Math.random() * 15 + 15; // 15px - 30px
            const duration = Math.random() * 1.5 + 1; // 1s - 2.5s
            
            particle.style.left = `${x}px`;
            particle.style.top = `${y}px`;
            particle.style.fontSize = `${size}px`;
            particle.style.animationDuration = `${duration}s`;

            document.body.appendChild(particle);

            // åŠ¨ç”»ç»“æŸåæ¸…ç† DOM å…ƒç´ 
            setTimeout(() => {
                particle.remove();
            }, duration * 1000);
        }

        // 1. å…¨å±€èƒŒæ™¯éšæœºé£˜è½å¿ƒå¿ƒ (æ¯ç§’1ä¸ª)
        setInterval(() => {
            const x = Math.random() * window.innerWidth;
            const y = window.innerHeight; // ä»å±å¹•æœ€ä¸‹æ–¹å‡ºç°
            createParticle(x, y);
        }, 1000);

        // 2. éšè—å½©è›‹ï¼šç‚¹å‡»å±å¹•ç‚¸å‡ºçˆ±å¿ƒ
        window.addEventListener('pointerdown', (e) => {
            // åœ¨ç‚¹å‡»ä½ç½®å‘¨å›´ç”Ÿæˆ 3 ä¸ªå°çˆ±å¿ƒ
            for(let i=0; i<3; i++) {
                setTimeout(() => {
                    const offsetX = (Math.random() - 0.5) * 40;
                    const offsetY = (Math.random() - 0.5) * 40;
                    createParticle(e.clientX + offsetX, e.clientY + offsetY);
                }, i * 100);
            }
        });

        // é¦–æ¬¡æ‰“å¼€ç½‘é¡µæ—¶å…ˆåŠ è½½ä¸¤æ‰¹ï¼Œé“ºæ»¡å±å¹•è®©å…¶å¯æ»šåŠ¨
        setTimeout(() => {
            renderBatch();
            setTimeout(renderBatch, 800);
        }, 300);

    </script>
</body>
</html>
